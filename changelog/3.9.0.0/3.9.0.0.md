## Kong




### Deprecations
#### Core

- `node_id` in configuration has been deprecated.
 [#10752](https://github.com/Kong/kong-ee/issues/10752)
 [FTI-6221](https://konghq.atlassian.net/browse/FTI-6221)

### Dependencies
#### Core

- Bumped lua-kong-nginx-module from 0.11.0 to 0.13.1 to fix the upstream cert chain issue and enable the new API for retrieving the SSL pointer.
 [#8550](https://github.com/Kong/kong-ee/issues/8550)
 [KAG-4050](https://konghq.atlassian.net/browse/KAG-4050)

- Bumped lua-resty-events to 0.3.1. Optimized the memory usage.
 [#9290](https://github.com/Kong/kong-ee/issues/9290)
 [KAG-4480](https://konghq.atlassian.net/browse/KAG-4480) [KAG-4586](https://konghq.atlassian.net/browse/KAG-4586)

- Bumped lua-resty-lmdb to 1.6.0, allowing `page_size` to be 1.
 [#10812](https://github.com/Kong/kong-ee/issues/10812)
 [KAG-5875](https://konghq.atlassian.net/browse/KAG-5875)

- Bumped lua-resty-lmdb to 1.5.0. Added the `page_size` parameter to allow overriding page size from the caller side.
 [#8652](https://github.com/Kong/kong-ee/issues/8652)

#### Default

- Kong Gateway now supports Ubuntu 24.04 (Noble Numbat) with both open-source and Enterprise packages.
 [#10219](https://github.com/Kong/kong-ee/issues/10219)
 [KAG-4672](https://konghq.atlassian.net/browse/KAG-4672)

- Bumped the bundled `datakit` Wasm filter to `0.3.1`
 [#10839](https://github.com/Kong/kong-ee/issues/10839)
 [KAG-5850](https://konghq.atlassian.net/browse/KAG-5850)

- Updated the default base for RPM Dockerfile from UBI 8 to UBI 9.
 [#10453](https://github.com/Kong/kong-ee/issues/10453)
 [KAG-5466](https://konghq.atlassian.net/browse/KAG-5466)

- Bumped lua-resty-aws to 1.5.4 to fix a bug inside region prefix generation.
 [#8871](https://github.com/Kong/kong-ee/issues/8871)
 [KAG-3424](https://konghq.atlassian.net/browse/KAG-3424) [FTI-5732](https://konghq.atlassian.net/browse/FTI-5732)

- Updated lua-resty-ljsonschema to 1.2.0. Fixed UTF-8 string length calculation and added support for `null` in `enum` types.
 [#10537](https://github.com/Kong/kong-ee/issues/10537)
 [FTI-5870](https://konghq.atlassian.net/browse/FTI-5870)

- Bumped `ngx_wasm_module` to `9136e463a6f1d80755ce66c88c3ddecd0eb5e25d`
 [#7554](https://github.com/Kong/kong-ee/issues/7554)


- Bumped `Wasmtime` version to `26.0.0`
 [#7554](https://github.com/Kong/kong-ee/issues/7554)


- Bumped OpenSSL to 3.2.3 to fix unbounded memory growth with session handling in TLSv1.3 and other CVEs.
 [#10193](https://github.com/Kong/kong-ee/issues/10193)
 [CVE-2024](https://konghq.atlassian.net/browse/CVE-2024) [KAG-5326](https://konghq.atlassian.net/browse/KAG-5326)

### Features
#### CLI Command

- Added the `kong drain` CLI command to make the `/status/ready` endpoint return a `503 Service Unavailable` response.
 [#10822](https://github.com/Kong/kong-ee/issues/10822)
 [FTI-6276](https://konghq.atlassian.net/browse/FTI-6276)
#### Core

- Added an ADA dependency: WHATWG-compliant and fast URL parser.
 [#10166](https://github.com/Kong/kong-ee/issues/10166)
 [KAG-5106](https://konghq.atlassian.net/browse/KAG-5106)

- Addded a new LLM driver for interfacing with the Hugging Face inference API.
The driver supports both serverless and dedicated LLM instances hosted by
Hugging Face for conversational and text generation tasks.
 [#10825](https://github.com/Kong/kong-ee/issues/10825)


- Added a `tls.disable_http2_alpn()` function patch for disabling HTTP/2 ALPN when performing a TLS handshake.
 [#10497](https://github.com/Kong/kong-ee/issues/10497)


- Improved the output of the request debugger:
  - The resolution of field `total_time` is now in microseconds.
  - A new field, `total_time_without_upstream`,  shows the latency only introduced by Kong.
 [#10279](https://github.com/Kong/kong-ee/issues/10279)
 [KAG-4733](https://konghq.atlassian.net/browse/KAG-4733) [FTI-5989](https://konghq.atlassian.net/browse/FTI-5989)

- **proxy-wasm**: Added support for Wasm filters to be configured via the `/plugins` Admin API.
 [#10742](https://github.com/Kong/kong-ee/issues/10742)
 [KAG-5616](https://konghq.atlassian.net/browse/KAG-5616)
#### PDK

- Added `kong.service.request.clear_query_arg(name)` to PDK.
 [#10216](https://github.com/Kong/kong-ee/issues/10216)
 [KAG-5238](https://konghq.atlassian.net/browse/KAG-5238)

- Array and Map type span attributes are now supported by the tracing PDK
 [#10645](https://github.com/Kong/kong-ee/issues/10645)
 [KAG-5162](https://konghq.atlassian.net/browse/KAG-5162)
#### Plugin

- **Prometheus**: Increased the upper limit of `KONG_LATENCY_BUCKETS` to 6000 to enhance latency tracking precision.
 [#10280](https://github.com/Kong/kong-ee/issues/10280)
 [FTI-5990](https://konghq.atlassian.net/browse/FTI-5990)

- **ai-proxy**: Disabled HTTP/2 ALPN handshake for connections on routes configured with AI-proxy.
 [#10605](https://github.com/Kong/kong-ee/issues/10605)


- **Redirect**: Added a new plugin to redirect requests to another location.
 [#10817](https://github.com/Kong/kong-ee/issues/10817)
 [KAG-5883](https://konghq.atlassian.net/browse/KAG-5883)

- **Prometheus**: Added support for Proxy-Wasm metrics.
 [#10760](https://github.com/Kong/kong-ee/issues/10760)
 [KAG-5591](https://konghq.atlassian.net/browse/KAG-5591)
#### Admin API

- **Admin API**: Added support for official YAML media-type (`application/yaml`) to the `/config` endpoint.
 [#10344](https://github.com/Kong/kong-ee/issues/10344)
 [KAG-5474](https://konghq.atlassian.net/browse/KAG-5474)
#### Clustering

- Added a remote procedure call (RPC) framework for Hybrid mode deployments.
 [#8928](https://github.com/Kong/kong-ee/issues/8928)
 [KAG-623](https://konghq.atlassian.net/browse/KAG-623) [KAG-3751](https://konghq.atlassian.net/browse/KAG-3751)

### Fixes
#### Core

- Fixed a bug where the health checker could fail to initialize in rare cases.
 [#10750](https://github.com/Kong/kong-ee/issues/10750)
 [KAG-5821](https://konghq.atlassian.net/browse/KAG-5821)

- Fix to always pass `ngx.ctx` to `log_init_worker_errors` as otherwise it may runtime crash.
 [#10704](https://github.com/Kong/kong-ee/issues/10704)


- Fixed an issue where the `ngx.balancer.recreate_request` API did not refresh the body buffer when `ngx.req.set_body_data` is used in the balancer phase.
 [#10240](https://github.com/Kong/kong-ee/issues/10240)


- Fixed an issue where the workspace ID was not included in the plugin config in the plugins iterator.
 [#10728](https://github.com/Kong/kong-ee/issues/10728)
 [FTI-6200](https://konghq.atlassian.net/browse/FTI-6200)

- Fixed a 500 error triggered by unhandled nil fields during schema validation.
 [#10710](https://github.com/Kong/kong-ee/issues/10710)
 [FTI-6336](https://konghq.atlassian.net/browse/FTI-6336)

- **Vault**: Fixed an issue where array-like configuration fields cannot contain vault reference.
 [#10909](https://github.com/Kong/kong-ee/issues/10909)
 [FTI-6163](https://konghq.atlassian.net/browse/FTI-6163)

- **Vault**: Fixed an issue where updating a vault entity in a non-default workspace wouldn't take effect.
 [#10165](https://github.com/Kong/kong-ee/issues/10165)
 [FTI-6152](https://konghq.atlassian.net/browse/FTI-6152)

- **Vault**: Fixed an issue where vault reference in kong configuration cannot be dereferenced when both http and stream subsystems are enabled.
 [#10909](https://github.com/Kong/kong-ee/issues/10909)
 [FTI-6163](https://konghq.atlassian.net/browse/FTI-6163)

- **proxy-wasm:** Added a check that prevents Kong from starting when the
database contains invalid Wasm filters.
 [#10520](https://github.com/Kong/kong-ee/issues/10520)
 [KAG-2636](https://konghq.atlassian.net/browse/KAG-2636)

- Fixed an issue where the `kong.request.enable_buffering` couldn't be used when the downstream used HTTP/2.
 [#10655](https://github.com/Kong/kong-ee/issues/10655)
 [FTI-5725](https://konghq.atlassian.net/browse/FTI-5725)
#### PDK

- Lined up the `kong.log.inspect` function to log at `notice` level as documented
in the PDK documentation (used to be `debug`).
 [#10224](https://github.com/Kong/kong-ee/issues/10224)
 [FTI-6215](https://konghq.atlassian.net/browse/FTI-6215)

- Fixed an issue where the `retries` error message incorrectly referred to the port.
 [#10433](https://github.com/Kong/kong-ee/issues/10433)

#### Plugin

- **ai-proxy**: Fixed a bug where tools (function) calls to Anthropic would return empty results.
 [#10757](https://github.com/Kong/kong-ee/issues/10757)


- **ai-proxy**: Fixed a bug where tools (function) calls to Bedrock would return empty results.
 [#10757](https://github.com/Kong/kong-ee/issues/10757)


- **ai-proxy**: Fixed a bug where Bedrock Guardrail config was ignored.
 [#10757](https://github.com/Kong/kong-ee/issues/10757)


- **ai-proxy**: Fixed a bug where tools (function) calls to Cohere would return empty results.
 [#10757](https://github.com/Kong/kong-ee/issues/10757)


- **ai-proxy**: Fixed a bug where Gemini provider would return an error if content safety failed in AI Proxy.
 [#10757](https://github.com/Kong/kong-ee/issues/10757)


- **ai-proxy**: Fixed a bug where tools (function) calls to Gemini (or via Vertex) would return empty results.
 [#10757](https://github.com/Kong/kong-ee/issues/10757)


- **ai-proxy**: Fixed an issue where AI Transformer plugins always returned a 404 error when using 'Google One' Gemini subscriptions.
 [#10447](https://github.com/Kong/kong-ee/issues/10447)


- **ai-transformers**: Fixed a bug where the correct LLM error message was not propagated to the caller.
 [#10447](https://github.com/Kong/kong-ee/issues/10447)


- **AI-Proxy**: Fixed an issue where multi-modal requests were blocked on the Azure AI provider.
 [#10416](https://github.com/Kong/kong-ee/issues/10416)


- **ai-semantic-cache**: Fixed an issue where AI Semantic Cache couldn't use request-provided models.
 [#10206](https://github.com/Kong/kong-ee/issues/10206)


- **AWS-Lambda**: Fixed an issue in proxy integration mode that caused an internal server error when the `multiValueHeaders` was null.
 [#10191](https://github.com/Kong/kong-ee/issues/10191)
 [FTI-6168](https://konghq.atlassian.net/browse/FTI-6168)

- **jwt**: Ensured that `rsa_public_key` isn't base64-decoded.
 [#10755](https://github.com/Kong/kong-ee/issues/10755)


- **key-auth**: Fixed an issue with the order of query arguments, ensuring that arguments retain order when hiding the credentials.
 [#10216](https://github.com/Kong/kong-ee/issues/10216)
 [KAG-5238](https://konghq.atlassian.net/browse/KAG-5238)

- **rate-limiting**: Fixed a bug where the returned values from `get_redis_connection()` were incorrect.
 [#10181](https://github.com/Kong/kong-ee/issues/10181)


- **rate-limiting**: Fixed an issue that caused an HTTP 500 error when `hide_client_headers` was set to `true` and the request exceeded the rate limit.
 [#10387](https://github.com/Kong/kong-ee/issues/10387)
 [KAG-5492](https://konghq.atlassian.net/browse/KAG-5492)
#### Admin API

- Fixed an issue with querying Admin API entities with empty tags.
 [#10568](https://github.com/Kong/kong-ee/issues/10568)
 [KAG-5496](https://konghq.atlassian.net/browse/KAG-5496)

- Fixed an issue where nested parameters couldn't be parsed correctly when using `form-urlencoded` requests.
 [#10579](https://github.com/Kong/kong-ee/issues/10579)
 [FTI-6165](https://konghq.atlassian.net/browse/FTI-6165)
#### Clustering

- **Clustering**: Adjusted error log levels for control plane connections.
 [#10753](https://github.com/Kong/kong-ee/issues/10753)
 [FTI-6238](https://konghq.atlassian.net/browse/FTI-6238)
#### Default

- **Loggly**: Fixed an issue where `/bin/hostname` missing caused an error warning on startup.
 [#10545](https://github.com/Kong/kong-ee/issues/10545)
 [FTI-6046](https://konghq.atlassian.net/browse/FTI-6046)
## Kong-Enterprise




### Deprecations
#### Plugin

- Fixed an issue where running the `kong migration` command would fail when upgrading to 3.8, which was caused by an incomplete Redis configuration-related SQL.
 [#10518](https://github.com/Kong/kong-ee/issues/10518)
 [FTI-6287](https://konghq.atlassian.net/browse/FTI-6287)

### Dependencies
#### Core

- Added Ubuntu 24.04 (Noble Numbat) FIPS packages and image.
 [#10473](https://github.com/Kong/kong-ee/issues/10473)
 [KAG-4672](https://konghq.atlassian.net/browse/KAG-4672)
#### Default

- Bumped `kong-redis-cluster` to `1.5.5`.

1. Currently, the timeout for acquiring a lock is fixed to `5s`.
   Added the new option `lock_timeout` to make it configurable.
2. The lock timeout parameter was incorrectly set to `time_out = 0`.
   Fixed the parameter to `timeout = 0`. This improves performance as there is no
   need for each instance to refresh the slots.
3. `kong-redis-cluster` now returns detailed error messages to downstream
   components (e.g. Kong Gateway) for better debuggability.
 [#10656](https://github.com/Kong/kong-ee/issues/10656)
 [FTI-6329](https://konghq.atlassian.net/browse/FTI-6329)

- Bumped lua-resty-azure to 1.6.1 to fix a `GET` request build issue, which was causing problems with Azure secret references.
 [#10595](https://github.com/Kong/kong-ee/issues/10595)
 [KAG-5727](https://konghq.atlassian.net/browse/KAG-5727)

### Features
#### Core

- Added a new feature for Kong Manager that supports multiple domains, enabling dynamic cross-origin access for Admin API requests.
 [#10260](https://github.com/Kong/kong-ee/issues/10260)


- The embedding driver can now cache the embeddings for a given model in the current request.
 [#10764](https://github.com/Kong/kong-ee/issues/10764)


- Added an option for GitHub Actions to build nginx/OpenResty with debug symbols.
 [#10308](https://github.com/Kong/kong-ee/issues/10308)
 [KAG-5448](https://konghq.atlassian.net/browse/KAG-5448)
#### Plugin

- **rate-limiting-advanced**: Added a new configuration field `lock_dictionary_name` to support specifying an independent shared memory for storing locks.
 [#10445](https://github.com/Kong/kong-ee/issues/10445)
 [FTI-6266](https://konghq.atlassian.net/browse/FTI-6266)

- **ai-proxy-advanced**: Added support for streaming responses to the AI Proxy Advanced plugin.
 [#10766](https://github.com/Kong/kong-ee/issues/10766)


- **ai-rate-limiting-advanced**: Added support for Huggingface provider to the AI Rate Limiting Advanced plugin.
 [#10863](https://github.com/Kong/kong-ee/issues/10863)


- **ai-semantic-cache**, **ai-semantic-prompt-guard**, **ai-proxy-advanced**: Made the
`embeddings.model.name` config field a free text entry, enabling use of a
self-hosted (or otherwise compatible) model.
 [#10719](https://github.com/Kong/kong-ee/issues/10719)


- **ai-semantic-cache**: Added the `ignore_tool` configuration option to discard tool role prompts from the input text.
 [#10554](https://github.com/Kong/kong-ee/issues/10554)


- **Rate-Limiting-Advanced**: Added support for authentication from Kong Gateway to Envoy Proxy.
 [#10424](https://github.com/Kong/kong-ee/issues/10424)
 [FTI-6243](https://konghq.atlassian.net/browse/FTI-6243)

- **openid-connect**: Allowed `http_proxy_authorization` and `https_proxy_authorization` to be referenceable.
 [#10747](https://github.com/Kong/kong-ee/issues/10747)
 [KAG-5839](https://konghq.atlassian.net/browse/KAG-5839)

- **Rate-Limiting-Advanced**: Added support for combining multiple identifier items with the new configuration field `compound_identifier`.
 [#9972](https://github.com/Kong/kong-ee/issues/9972)
 [FTI-6061](https://konghq.atlassian.net/browse/FTI-6061)

- **ai-semantic-cache**: Plugin can now be enabled on Consumer Groups.
 [#10373](https://github.com/Kong/kong-ee/issues/10373)


- **openid-connect**: Added the `introspection_post_args_client_headers` config option, 
allowing you to pass client headers as introspection POST body arguments.
 [#10393](https://github.com/Kong/kong-ee/issues/10393)
 [FTI-6273](https://konghq.atlassian.net/browse/FTI-6273)

- **JWT Signer**: The `/jwt-signer/jwks` endpoint is now supported in DB-less mode.
 [#9901](https://github.com/Kong/kong-ee/issues/9901)


- **Konnect Application Auth**: Added authorization_scope_id to application context.
 [#10759](https://github.com/Kong/kong-ee/issues/10759)
 [TDX-4791](https://konghq.atlassian.net/browse/TDX-4791)

- **injection-protection**: Added the `injection-protection` plugin, which supports blocking requests based on regex patterns.
 [#10762](https://github.com/Kong/kong-ee/issues/10762)
 [KAG-4559](https://konghq.atlassian.net/browse/KAG-4559)
#### Admin API

- Added the ability to remove the consumer list from the return value for consumer groups Admin API `/consumer_groups/:consumer_groups` when `list_consumers=false`.
 [#10467](https://github.com/Kong/kong-ee/issues/10467)
 [FTI-6286](https://konghq.atlassian.net/browse/FTI-6286)

- Fixed an issue where entity counts in `/license/report` were retrieved with `select count` instead of `workspace_entity_counters` table in DB-backed (traditional) mode.
 [#10530](https://github.com/Kong/kong-ee/issues/10530)
 [FTI-5670](https://konghq.atlassian.net/browse/FTI-5670) [KAG-4338](https://konghq.atlassian.net/browse/KAG-4338)

- Fixed an issue where entity counts in `/workspaces?counter` and `/workspace/<workspace>/meta` were retrieved with `select count` instead of `workspace_entity_counters` table in DB-backed (traditional) mode.
 [#10530](https://github.com/Kong/kong-ee/issues/10530)
 [FTI-5670](https://konghq.atlassian.net/browse/FTI-5670) [KAG-4338](https://konghq.atlassian.net/browse/KAG-4338)

- `/license/report` can now retrieve entity counts in DB-less mode.
 [#10530](https://github.com/Kong/kong-ee/issues/10530)
 [FTI-5670](https://konghq.atlassian.net/browse/FTI-5670) [KAG-4338](https://konghq.atlassian.net/browse/KAG-4338)

- `/workspaces?counter` and `/workspace/<workspace>/meta` can now retrieve entity counts in DB-less mode.
 [#10530](https://github.com/Kong/kong-ee/issues/10530)
 [FTI-5670](https://konghq.atlassian.net/browse/FTI-5670) [KAG-4338](https://konghq.atlassian.net/browse/KAG-4338)

- Added a feature to allow updating the `belong_workspace` field of an admin via the Admin API and Kong Manager.
 [#9962](https://github.com/Kong/kong-ee/issues/9962)

#### Default

- Added the configuration parameter `admin_gui_auth_login_attempts_ttl` (default to `604800`) to allow users to specify a custom duration to wait before they can try log in again if they have exceeded the maximum login attempts. This is only meaningful when `admin_gui_auth_login_attempts` is a positive number.
 [#10632](https://github.com/Kong/kong-ee/issues/10632)


### Fixes
#### Core

- Fixed an issue where paginated results of `audit_requests` fetched via the `next` field were incorrect when `before` and `after` filters were applied.
 [#10404](https://github.com/Kong/kong-ee/issues/10404)
 [FTI-6250](https://konghq.atlassian.net/browse/FTI-6250)

- Fixed an issue where event_hooks added during runtime didn't function until restart.
 [#10581](https://github.com/Kong/kong-ee/issues/10581)
 [FTI-6300](https://konghq.atlassian.net/browse/FTI-6300) [FTI-6301](https://konghq.atlassian.net/browse/FTI-6301)

- Fixed an issue where using Hashicorp Vault AppRole authentication with a secret ID file would fail to read the secret ID.
 [#10140](https://github.com/Kong/kong-ee/issues/10140)
 [FTI-6187](https://konghq.atlassian.net/browse/FTI-6187)

- Fixed an issue where RBAC authorization could be enabled via `enforce_rbac` in DB-less mode. RBAC authorization should be disabled in DB-less mode.
 [#10183](https://github.com/Kong/kong-ee/issues/10183)


- Fixed an issue where massive route insertion caused crashing and 500 errors.
 [#10714](https://github.com/Kong/kong-ee/issues/10714)
 [KAG-5815](https://konghq.atlassian.net/browse/KAG-5815)
#### Plugin

- **ai-semantic-cache**: Fixed the exact matching to catch everything including embeddings.
 [#10805](https://github.com/Kong/kong-ee/issues/10805)


- **ai-proxy-advanced**, **ai-semantic-prompt-guard**: Fixed an issue where stale plugin config was not updated in DB-less and hybrid modes.
 [#10292](https://github.com/Kong/kong-ee/issues/10292)


- **ai-proxy-advanced**: Fixed an issue where lowest-usage and lowest-latency strategies did not update data points correctly.
 [#10292](https://github.com/Kong/kong-ee/issues/10292)


- **ai-rate-limiting-advanced:** Updated the error message for exceeding the rate limit to include AI-related information.
 [#10415](https://github.com/Kong/kong-ee/issues/10415)


- **ai-rate-limiting-advanced:** Fixed an issue where the plugin yielded an error when incrementing the rate limit counters in non-yieldable phases.
 [#10339](https://github.com/Kong/kong-ee/issues/10339)


- **ai-semantic-cache:** Fixed an issue where the AI Semantic Cache plugin would abort in stream mode when another plugin enabled the buffering proxy mode.
 [#10274](https://github.com/Kong/kong-ee/issues/10274)


- **ai-semantic-cache**: Fixed an issue where the AI Semantic Cache plugin put the wrong type value in the metrics when using the Prometheus plugin.
 [#10338](https://github.com/Kong/kong-ee/issues/10338)


- **ai-request-transformer**, **ai-response-transformer**: Fixed an issue where Azure Managed Identity did not work for AI Transformer Plugins.
 [#10459](https://github.com/Kong/kong-ee/issues/10459)
 [KAG-4655](https://konghq.atlassian.net/browse/KAG-4655)

- **OAS-validation**: Fixed an issue where the error message was omitted if `notify_only_request_body_validation_failure` or `notify_only_response_body_validation_failure` was set to `false`.
 [#10507](https://github.com/Kong/kong-ee/issues/10507)
 [FTI-6296](https://konghq.atlassian.net/browse/FTI-6296)

- **oas-validation**: Fixed an issue where the `include_base_path` did not work when multiple servers were provided.
 [#10643](https://github.com/Kong/kong-ee/issues/10643)
 [FTI-6317](https://konghq.atlassian.net/browse/FTI-6317)

- **degraphql** Fixed an issue where the degraphql routes were updated from the control plane but not updated in the degraphql router on the data plane.
 [#10450](https://github.com/Kong/kong-ee/issues/10450)
 [FTI-6278](https://konghq.atlassian.net/browse/FTI-6278)

- **exit-transformer**: Fixed an issue where the exit-transformer could not take effect on invalid non-admin requests.
 [#10729](https://github.com/Kong/kong-ee/issues/10729)
 [FTI-6344](https://konghq.atlassian.net/browse/FTI-6344)

- **json-threat-protection**: Fixed an issue where the length counting of escape sequences, non-ASCII characters, and object entry names in JSON Strings was incorrect. The plugin now uses UTF-8 character count instead of bytes.
 [#10341](https://github.com/Kong/kong-ee/issues/10341)
 [KAG-5398](https://konghq.atlassian.net/browse/KAG-5398)

- **jwe-decrypt:** Fixed an issue where an unnecessary warn log was printed.
 [#10895](https://github.com/Kong/kong-ee/issues/10895)
 [FTI-6377](https://konghq.atlassian.net/browse/FTI-6377)

- **Kafka Log:** Fixed an issue where the plugin couldn't function correctly when configured in a non-default workspace with `certificate_id`.
 [#10349](https://github.com/Kong/kong-ee/issues/10349)
 [FTI-6247](https://konghq.atlassian.net/browse/FTI-6247)

- **openid-connect**: Fixed an `500` error caused by JSON `null` from the request body when parsing bearer tokens or client IDs.
 [#10461](https://github.com/Kong/kong-ee/issues/10461)
 [FTI-6285](https://konghq.atlassian.net/browse/FTI-6285)

- **openid-connect**: Fixed an issue where the configured Redis database was ignored.
 [#10560](https://github.com/Kong/kong-ee/issues/10560)
 [FTI-6097](https://konghq.atlassian.net/browse/FTI-6097)

- **OpenID Connect**: Fixed an issue where the `token_cache_key_include_scope` feature was not considering scopes defined via `config.scopes` to generate the cache key.
 [#10395](https://github.com/Kong/kong-ee/issues/10395)
 [FTI-6254](https://konghq.atlassian.net/browse/FTI-6254) [KAG-5517](https://konghq.atlassian.net/browse/KAG-5517)

- **kafka-log**: Reduced noisy logs from kafka-log and counters.
 [#10705](https://github.com/Kong/kong-ee/issues/10705)
 [KAG-5827](https://konghq.atlassian.net/browse/KAG-5827)

- **Rate Limiting Advanced:** Fixed an issue where counters of the overriding consumer groups weren't fetched when the `window_size` was different and the workspace was non-default.
 [#10179](https://github.com/Kong/kong-ee/issues/10179)
 [FTI-6200](https://konghq.atlassian.net/browse/FTI-6200)

- **rate-limiting-advanced:** Fixed an issue where a warn log was printed when event_hooks was disabled.
 [#10431](https://github.com/Kong/kong-ee/issues/10431)
 [FTI-6220](https://konghq.atlassian.net/browse/FTI-6220)

- **rate-limiting-advanced:** Fixed an issue where, if multiple plugin instances sharing the same namespace enforced consumer groups and different `window_size`s were used in the consumer group overriding configs, then the rate limiting of some consumer groups would fall back to local strategy. Now every plugin instance sharing the same namespace can set different `window_size`.
 [#10441](https://github.com/Kong/kong-ee/issues/10441)
 [FTI-6200](https://konghq.atlassian.net/browse/FTI-6200)

- **OAS-Plugin**: Fixed an issue where the spec could not be located if the `Content-Type` in the request/response body included parameters (e.g., `application/json; charset=utf8`) while the OpenAPI specification defined in `api_spec` did not include parameters.
 [#10495](https://github.com/Kong/kong-ee/issues/10495)
 [FTI-6077](https://konghq.atlassian.net/browse/FTI-6077)

- **ai-prompt-guard**: Fixed an issue where the AI Prompt Guard plugin could fail when handling requests with multiple models.
 [#10782](https://github.com/Kong/kong-ee/issues/10782)


- **ai-semantic-cache**: Fixed an issue where the plugin failed when handling requests with multiple models.
 [#10782](https://github.com/Kong/kong-ee/issues/10782)


- **ai-semantic-prompt-guard**: Fixed an issue where requests with multiple models caused failures.
 [#10782](https://github.com/Kong/kong-ee/issues/10782)


- **json-threat-protection**: Fixed an issue where certain default parameter values were incorrectly interpreted as 0 in some environments (e.g., ARM64-based):
  * `max_container_depth`
  * `max_object_entry_count`
  * `max_object_entry_name_length`
  * `max_array_element_count`
  * `max_string_value_length`
 [#10259](https://github.com/Kong/kong-ee/issues/10259)
 [KAG-5398](https://konghq.atlassian.net/browse/KAG-5398)

- **ai-rate-limiting-advanced**: Fixed an issue where the plugin may fail to authenticate to Redis correctly with vault-referenced redis configuration.
 [#10496](https://github.com/Kong/kong-ee/issues/10496)
 [FTI-6283](https://konghq.atlassian.net/browse/FTI-6283)

- **graphql-rate-limiting-advanced**: Fixed an issue where the plugin may fail to authenticate to Redis correctly with vault-referenced redis configuration.
 [#10496](https://github.com/Kong/kong-ee/issues/10496)
 [FTI-6283](https://konghq.atlassian.net/browse/FTI-6283)

- **rate-limiting-advanced**: Fixed an issue where the plugin may fail to authenticate to Redis correctly with vault-referenced redis configuration.
 [#10496](https://github.com/Kong/kong-ee/issues/10496)
 [FTI-6283](https://konghq.atlassian.net/browse/FTI-6283)

- **app-dynamics**: Fixed an issue where the `snapshot` of the fields upstream, service, route and consumer was missing in the AppDynamics plugin.
 [#10881](https://github.com/Kong/kong-ee/issues/10881)
 [FTI-6043](https://konghq.atlassian.net/browse/FTI-6043)

- **Request-validator**: Fixed an issue where requests get rejected when defining an object parameter in exploded form style.
 [#10052](https://github.com/Kong/kong-ee/issues/10052)
 [FTI-6179](https://konghq.atlassian.net/browse/FTI-6179)

- **rate-limiting-advanced:** Fixed an issue where RLA-stored long expiration time items caused `no memory` errors.
 [#10422](https://github.com/Kong/kong-ee/issues/10422)
 [FTI-6264](https://konghq.atlassian.net/browse/FTI-6264)
#### Admin API

- Fixed the issue where the entities' counter was not displayed in certain cases when they were empty.
 [#10897](https://github.com/Kong/kong-ee/issues/10897)
 [KAG-4338](https://konghq.atlassian.net/browse/KAG-4338) [FTI-5670](https://konghq.atlassian.net/browse/FTI-5670)
#### Clustering

- Fixed an issue where EventHooks was not working in Data Planes.
 [#10147](https://github.com/Kong/kong-ee/issues/10147)
 [FTI-6189](https://konghq.atlassian.net/browse/FTI-6189)

- Fixed the clustering compatibility logic for the RDS assume role and custom STS endpoint features backport.
 [#10291](https://github.com/Kong/kong-ee/issues/10291)
 [FTI-6218](https://konghq.atlassian.net/browse/FTI-6218)

- Fixed a connection leak issue where the websocket connection was not closed promptly during reconnection.
 [#10214](https://github.com/Kong/kong-ee/issues/10214)
 [KAG-5256](https://konghq.atlassian.net/browse/KAG-5256)
## Kong-Manager-Enterprise






### Features
#### Default

- Kong Manager will now show a more friendly error message when failing to delete a service.
 [#3541](https://github.com/Kong/kong-admin/issues/3541)


### Fixes
#### Default

- Fixed an issue where the content in the header and footer were not center aligned when enabled.
 [#3547](https://github.com/Kong/kong-admin/issues/3547)


- Fixed an issue where Kong Manager was not displaying the overview page when there is a workspace with the name "portal" (case-insensitive).
 [#3613](https://github.com/Kong/kong-admin/issues/3613)


- Fixed an issue where Kong Manager was not redirecting users to the previous page after cancelling the plugin creation.
 [#3554](https://github.com/Kong/kong-admin/issues/3554)


- Fixed an issue where the username does not allow special characters.
 [#3584](https://github.com/Kong/kong-admin/issues/3584)

