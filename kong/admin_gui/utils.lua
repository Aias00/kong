-- This software is copyright Kong Inc. and its licensors.
-- Use of the software is subject to the agreement between your organization
-- and Kong Inc. If there is no such agreement, use is governed by and
-- subject to the terms of the Kong Master Software License Agreement found
-- at https://konghq.com/enterprisesoftwarelicense/.
-- [ END OF LICENSE 0867164ffc95e54f04670b5169c09574bdbd9bba ]

local _M = {}


-- return first listener matching filters
function _M.select_listener(listeners, filters)
  for _, listener in ipairs(listeners) do
    local match = true

    for filter, value in pairs(filters) do
      if listener[filter] ~= value then
        match = false
        break
      end
    end

    if match then
      return listener
    end
  end
end


function _M.prepare_variable(variable)
  if variable == nil then
    return ""
  end

  return tostring(variable)
end


return _M
